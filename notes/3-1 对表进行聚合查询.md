# 3-1 对表进行聚合查询

[toc]

## 聚合函数

**记住以下常用的函数**

- COUNT:计算表中的记录
- SUM:计算表中数值列中数据的合计值
- AVG:计算表中数值列中数据的平均值
- MAX:求出表中任意列中数据的最大值
- MIN:求出表中任意列中数据的最小值

## 计算表中数据的行数

**语法3-1 计算全部数据的行数**

```SQL
SELECT COUNT(*)
FROM <表名>;
```

## 计算NULL之外的数据的行数

```sql
SELECT COUNT(<列名>)
FROM <表名>;
```

- COUNT函数的结果根据参数的不同而不同。
- COUNT(*)会得到包含NULL的数据行数，而COUNT(<列名>)会得到NULL之外的数据行数。

## 计算合计值

**语法3-2 计算合计值**

```SQL
SELECT SUM(<列名>)
FROM <表名>;
```

> 聚合函数会将NULL排除在外。但COUNT(*)例外，并不会排除NULL

## 计算平均值

**语法3-3 计算平均值**

```sql
SELECT AVG(<列名>)
FROM <表名>;
```

## 计算最大值和最小值

**语法3-4 计算最大值和最小值**

```sql
SELECT MAX(<列名>), MIN(<列名>)
FROM <表名>;
```

> MAX/MIN函数几乎适用于所有数据类型的列。SUM/AVG函数只适用于数值类型的列

## 使用聚合函数删除重复值（关键字DISTINCT）

**语法3-5 删除重复值**

```sql
SELECT COUNT(DISTINCT <列名>)
FROM <表名>;
```

> - 要计算值的种类时，可以在COUNT函数的参数中使用DISTINCT
>
> - 在聚合函数的参数中使用DISTINCT，可以删除重复数据

